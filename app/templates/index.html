{% extends "base.html" %}
{% block style %}
	<link type="text/css" rel="stylesheet" href="../static/css/index.css"/>
{% endblock %}
{% block content %}

	<div class="header">
		<img src="../static/img/share-2.png" style="margin-left:50px;min-height:100%" alt="" />
		{% if session.logged_in %}
		<a href="{{ url_for('logout') }}" class="logout">登出</a>
		{% endif %}
	</div>
	<div class="main">
        <!-- banner -->
		<div class="banner">
			<div class="bannerContent">
				<div class="bannerMoveLeftButton"></div>
				<div class="bannerMoveRightButton"></div>
				<div class="bannerContentShowDiv">
					<div class="bannerContentShow">
						<div style="background:url('http://thumbshots.absolutethumbshots.com/index.php?url=http://www.zhihu.com&s=400x300&code=499944589');"></div>
						<div style="background:url('http://thumbshots.absolutethumbshots.com/index.php?url=http://www.163.com&s=400x300&code=499944589');"></div>
						<div style="background:url('http://thumbshots.absolutethumbshots.com/index.php?url=http://www.gmail.com&s=400x300&code=499944589');"></div>
						<div style="background:url('http://thumbshots.absolutethumbshots.com/index.php?url=http://www.qq.com&s=400x300&code=499944589');"></div>
						<div style="background:url('http://thumbshots.absolutethumbshots.com/index.php?url=http://www.taobao.com&s=400x300&code=499944589');"></div>
					</div>
					<div class="bannerOrder">
						<div class="bannerOrder0" style="background-color: rgb(213,213,213)"></div>
						<div class="bannerOrder1"></div>
						<div class="bannerOrder2"></div>
						<div class="bannerOrder3"></div>
						<div class="bannerOrder4"></div>						
					</div>
				</div>
			</div>
		</div>

        <!-- content -->
		<div class="contentDiv">
            <!-- @ author guoqi -->
            <!-- 这儿的class是干嘛的? -->
            <class class="content">
			<p class="switchContentButtonDiv">
                <a href="{{ url_for('index_hot', group_id=current_group_id) }}" class="hotest switchContentChoice">最热</a>
                <a href="{{ url_for('index', group_id=current_group_id) }}" class="latest">最新</a>
			</p>

            <!-- 显示条目 -->
            {% if shares and user_groups and shares.items != [] %}
                {% for share in shares.items %}
                    <div style="background:url('http://img.bitpixels.com/getthumbnail?code=38052&size=200&url={{share.url}}');">
                        <a href="{{ url_for('reading', id=share.id) }}" class="contentDetail" title="{{share.title}}">
                            <p class="contentDetailTitle">{{share.title}}</p>
                            <p
                            class="contentDetailTime">{{share.timestamp.isocalendar()}}</p>
                            <p class="contentDetailCommentNum">likes {{share.likes}}</p>
                        </a>
                    </div>
                {% endfor %}
                </class>

                <!-- 页码及翻页 -->
                <div class="page_num">
                {% if shares.has_prev %}
                    <a href="{{ url_for(current_url, page = shares.prev_num, group_id = current_group_id) }}" class="not_current_page_num">&lt;&lt;</a>
                {% endif %}

                {% for page_num in shares.iter_pages() %}
                    <span class="pagination">
                        {% if page_num != shares.page %}
                            <a href="{{ url_for(current_url, page = page_num, group_id = current_group_id) }}" class="not_current_page_num">{{ page_num }}</a>
                        {% else %}
                            <a href="{{ url_for(current_url, page = page_num, group_id = current_group_id) }}" class="current_page_num">{{ page_num }}</a>
                        {% endif %}
                    </span>
                {% endfor %}

                {% if shares.has_next %}
                    <a href="{{ url_for(current_url, page = shares.next_num, group_id = current_group_id) }}" class="not_current_page_num">&gt;&gt;</a>
                {% endif %}
                </div>
            {% elif user_groups != [] and shares.items != []%}
                <h3>还未加入群组</h3>
            {% else %}
                <h3>该群组暂无分享</h3>
            {% endif %}
		</div>

        <!-- 分组 -->
		<div class="groupDiv">
			<!-- <a href="" class="homeChoice">首页</a> -->
			<!-- <a href="">Web</a> -->
			<!-- <a href="">Design</a> -->
			<!-- <a href="">IT</a> -->
			<!-- <a href="">安卓</a> -->
			<!-- <a href="">嵌入式</a> -->
			<!-- <a href="">算法</a> -->
            <!-- <div class="user_groups"> -->
                <h4 style="margin-top: 5px; margin-bottom: 5px;">已关注</h4>
                {% if user_groups %}
                {% for group in user_groups %}
                    {% if group.id == current_group_id %}
                        <a href="{{ url_for(current_url, group_id=group.id ) }}"
                            class="homeChoice">{{group.title}}</a>
                    {% else %}
                        <a href="{{ url_for(current_url, group_id=group.id ) }}">{{group.title}}</a>
                    {% endif %}
                    <button data='{{group.id}}' class="remove">取消</button>
                {% endfor %}
                {% endif %}
            <!-- </div> -->

            <!-- <div class="diff_groups"> -->
                <h4 style="margin-top: 5px; margin-bottom: 5px;">未关注</h4>
                {% if diff_groups %}
                {% for group in diff_groups %}
                    <a>{{ group.title }}</a>
                    <button data="{{group.id}}" class="add">关注</button>
                {% endfor %}
                {% endif %}
            <!-- </div> -->
		</div>

		<script >
			var contentDivMarginWidth = parseFloat(window.getComputedStyle(document.getElementsByClassName("contentDiv")[0],false).marginLeft);
			document.getElementsByClassName("groupDiv")[0].style.left = (contentDivMarginWidth -110)+"px";
		</script>
	</div>
{% endblock %}
{% block script %}
    <script src="../static/js/jquery.js">
	<script type="text/javascript" rel="script" src="../static/js/indexBanner.js"></script>
	<script type="text/javascript" rel="script" src="../static/js/index.js"></script>
{% endblock %}
